


<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Client &mdash; PyClarify 0.5.0 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Views" href="../views/index.html" />
    <link rel="prev" title="Reference" href="../index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            PyClarify
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Client</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pyclarify.client.Client"><code class="docutils literal notranslate"><span class="pre">Client</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pyclarify.client.Client.insert"><code class="docutils literal notranslate"><span class="pre">Client.insert()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyclarify.client.Client.select_items"><code class="docutils literal notranslate"><span class="pre">Client.select_items()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyclarify.client.Client.save_signals"><code class="docutils literal notranslate"><span class="pre">Client.save_signals()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyclarify.client.Client.publish_signals"><code class="docutils literal notranslate"><span class="pre">Client.publish_signals()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyclarify.client.Client.select_signals"><code class="docutils literal notranslate"><span class="pre">Client.select_signals()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyclarify.client.Client.data_frame"><code class="docutils literal notranslate"><span class="pre">Client.data_frame()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pyclarify.client.Client.evaluate"><code class="docutils literal notranslate"><span class="pre">Client.evaluate()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../views/index.html">Views</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">PyClarify</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Reference</a></li>
      <li class="breadcrumb-item active">Client</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/reference/client/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="client">
<h1>Client<a class="headerlink" href="#client" title="Permalink to this heading"></a></h1>
<p>Client module is the main module of PyClarify.</p>
<p>The module provides a class for setting up a JSONRPCClient which will communicate with
the Clarify API. Methods for reading and writing to the API is implemented with the
help of <cite>jsonrpcclient framework &lt;https://www.jsonrpc.org/specification&gt;__</cite>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pyclarify.client.Client">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Client</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">clarify_credentials</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pyclarify/client.html#Client"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyclarify.client.Client" title="Permalink to this definition"></a></dt>
<dd><p>The class containing all rpc methods for talking to Clarify. Uses credential file on initialization.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>clarify_credentials</strong> (<em>path to json file</em>) – Path to the Clarify credentials json file from the integrations page in clarify. See user guide for more information.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s2">&quot;./clarify-credentials.json&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pyclarify.client.Client.insert">
<span class="sig-name descname"><span class="pre">insert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Response</span></span></span><a class="reference internal" href="../../_modules/pyclarify/client.html#Client.insert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyclarify.client.Client.insert" title="Permalink to this definition"></a></dt>
<dd><p>This call inserts data to one or multiple signals. The signal is given an input id by the user. The signal is uniquely identified by its input ID in combination with
the integration ID. If no signal with the given combination exists, an empty signal is created. With the creation of the signal, a unique signal id gets assigned to it.
Mirroring the Clarify API call <a class="reference external" href="https://docs.clarify.io/api/methods/integration/insert">integration.insert</a> .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<a class="reference internal" href="../views/dataframe.html#pyclarify.views.dataframe.DataFrame" title="pyclarify.views.dataframe.DataFrame"><em>DataFrame</em></a><em>, </em><em>pd.DataFrame</em><em>, </em><em>dict</em>) – The data containing the values of a signal in a key-value pair, and separate time axis.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>Response.result.data</cite> is a dictionary mapping INPUT_ID to SIGNAL_ID.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Response</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#pyclarify.client.Client.data_frame" title="pyclarify.client.Client.data_frame"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Client.data_frame</span></code></a></dt><dd><p>Retrieve data from selected items.</p>
</dd>
<dt><a class="reference internal" href="#pyclarify.client.Client.save_signals" title="pyclarify.client.Client.save_signals"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Client.save_signals</span></code></a></dt><dd><p>Save meta data for signals.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">DataFrame</span></code></dt><dd><p>Model used for transporting data to and from Clarify.</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyclarify</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">DataFrame</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s2">&quot;./clarify-credentials.json&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Inserting some dummy data.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">series</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;INPUT_ID_1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;INPUT_ID_2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]},</span>
<span class="gp">... </span>    <span class="n">times</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;2021-11-01T21:50:06Z&quot;</span><span class="p">,</span>  <span class="s2">&quot;2021-11-02T21:50:06Z&quot;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>Inserting pandas.DataFrame.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;INPUT_ID_1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;INPUT_ID_2&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;2021-11-01T21:50:06Z&quot;</span><span class="p">,</span>  <span class="s2">&quot;2021-11-02T21:50:06Z&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
<dl>
<dt>Response</dt><dd><p>In case of a valid return value, returns a pydantic model with the following format:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jsonrpc</span> <span class="o">=</span> <span class="s1">&#39;2.0&#39;</span>
<span class="gp">... </span><span class="nb">id</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span>
<span class="gp">... </span><span class="n">signalsByInput</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;INPUT_ID_1&#39;</span><span class="p">:</span> <span class="n">CreateSummary</span><span class="p">(</span><span class="nb">id</span> <span class="o">=</span> <span class="s1">&#39;SIGNAL_ID_1&#39;</span><span class="p">,</span> <span class="n">created</span> <span class="o">=</span> <span class="kc">True</span><span class="p">),</span>
<span class="gp">... </span>    <span class="s1">&#39;INPUT_ID_2&#39;</span><span class="p">:</span> <span class="n">CreateSummary</span><span class="p">(</span><span class="nb">id</span> <span class="o">=</span> <span class="s1">&#39;SIGNAL_ID_2&#39;</span><span class="p">,</span> <span class="n">created</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">... </span><span class="n">error</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>
</div>
<p>Where:</p>
<ul class="simple">
<li><p>InsertResponse is a a pydantic model with field signalsByInput.</p></li>
<li><p>signalsByInput is a Dict[InputID, CreateSummary].</p></li>
<li><p>CreateSummary is a a pydantic model with field id: str and created: bool (True if a new instance was created, False is the instance already existed).</p></li>
</ul>
<p>In case of the error (for example not equal length) the method return a pydantic model with the following format:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jsonrpc</span> <span class="o">=</span> <span class="s1">&#39;2.0&#39;</span>
<span class="gp">... </span><span class="nb">id</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span>
<span class="gp">... </span><span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">... </span><span class="n">error</span> <span class="o">=</span> <span class="n">Error</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">code</span> <span class="o">=</span> <span class="s1">&#39;-32602&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">message</span> <span class="o">=</span> <span class="s1">&#39;Invalid params&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">data</span> <span class="o">=</span> <span class="n">ErrorData</span><span class="p">(</span>
<span class="gp">... </span>                    <span class="n">trace</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">trace_id</span><span class="o">&gt;</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;data.series.id&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;not same length as times&#39;</span><span class="p">]}</span>
<span class="gp">... </span>        <span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyclarify.client.Client.select_items">
<span class="sig-name descname"><span class="pre">select_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Response</span></span></span><a class="reference internal" href="../../_modules/pyclarify/client.html#Client.select_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyclarify.client.Client.select_items" title="Permalink to this definition"></a></dt>
<dd><p>Return item metadata from selected items.
For more information click <a class="reference external" href="https://docs.clarify.io/api/1.1beta2/methods/clarify/select-items">here</a> .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filter</strong> (<a class="reference internal" href="../views/filter.html#pyclarify.query.filter.Filter" title="pyclarify.query.filter.Filter"><em>Filter</em></a><em>, </em><em>optional</em>) – A Filter Model that describes a mongodb filter to be applied.</p></li>
<li><p><strong>include</strong> (<em>List</em><em> of </em><em>strings</em><em>, </em><em>optional</em>) – A list of strings specifying which relationships to be included in the response.</p></li>
<li><p><strong>skip</strong> (<em>int</em><em>, </em><em>default 0</em>) – Integer describing how many of the first N items to exclude from response.</p></li>
<li><p><strong>limit</strong> (<em>int</em><em>, </em><em>default 10</em>) – Number of items to include in the match.</p></li>
<li><p><strong>sort</strong> (<em>list</em><em> of </em><em>strings</em>) – List of strings describing the order in which to sort the items in the response.</p></li>
<li><p><strong>total</strong> (<em>bool</em><em>, </em><em>default False</em>) – When true, force the inclusion of a total count in the response. A total count is the total number of resources that matches filter.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">Response.result.data</span></code> is an array of ItemSelectView</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Response</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s2">&quot;./clarify-credentials.json&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Querying items based on a filter.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">select_items</span><span class="p">(</span>
<span class="gp">... </span>    <span class="nb">filter</span> <span class="o">=</span> <span class="n">Filter</span><span class="p">(</span><span class="n">fields</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="nb">filter</span><span class="o">.</span><span class="n">NotEqual</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s2">&quot;Air Temperature&quot;</span><span class="p">)}),</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<p>Getting 1000 items.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">select_items</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">limit</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<p>Getting 100 items and sorting by name.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">select_items</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">limit</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sort</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<p>Getting total number of signals (as meta data).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">select_items</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">total</span><span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<p>Using multiple query parameters.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">select_items</span><span class="p">(</span>
<span class="gp">... </span>    <span class="nb">filter</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">Filter</span><span class="p">(</span><span class="n">fields</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">query</span><span class="o">.</span><span class="n">NotEqual</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s2">&quot;Air Temperature&quot;</span><span class="p">)}),</span>
<span class="gp">... </span>    <span class="n">skip</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">limit</span> <span class="o">=</span> <span class="mi">10</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sort</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;-id&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">total</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<dl>
<dt>Response</dt><dd><p>In case of a valid return value, returns a pydantic model with the following format:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jsonrpc</span> <span class="o">=</span> <span class="s1">&#39;2.0&#39;</span>
<span class="gp">... </span><span class="nb">id</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span>
<span class="gp">... </span><span class="n">result</span> <span class="o">=</span> <span class="n">Selection</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">meta</span><span class="o">=</span><span class="p">{</span>
<span class="gp">... </span>        <span class="s1">&#39;total&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s1">&#39;groupIncludedByType&#39;</span><span class="p">:</span> <span class="kc">True</span>
<span class="gp">... </span>    <span class="p">},</span>
<span class="gp">... </span>    <span class="n">data</span><span class="o">=</span><span class="p">[</span>
<span class="gp">... </span>        <span class="n">ItemSelectView</span><span class="p">(</span>
<span class="gp">... </span>            <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;c5i41fjsbu8cohpkcpvg&#39;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;items&#39;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="n">meta</span><span class="o">=</span><span class="n">ResourceMetadata</span><span class="p">(</span>
<span class="gp">... </span>                <span class="n">annotations</span><span class="o">=</span><span class="p">{</span>
<span class="gp">... </span>                    <span class="s2">&quot;docs-clarify-io/example/environment&quot;</span><span class="p">:</span> <span class="s2">&quot;office&quot;</span>
<span class="gp">... </span>                 <span class="p">},</span>
<span class="gp">... </span>                <span class="n">attributesHash</span><span class="o">=</span><span class="s1">&#39;7602afa2fe611e0c8eff17f7936e108ee29e6817&#39;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">relationshipsHash</span><span class="o">=</span><span class="s1">&#39;5f36b2220a14b54ee5ea290645ee34d943ea5be5&#39;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">updatedAt</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">58</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">264000</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">),</span>
<span class="gp">... </span>                <span class="n">createdAt</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span> <span class="mi">46</span><span class="p">,</span> <span class="mi">958000</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
<span class="gp">... </span>            <span class="p">),</span>
<span class="gp">... </span>            <span class="n">attributes</span><span class="o">=</span><span class="n">Item</span><span class="p">(</span>
<span class="gp">... </span>                <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Dunder ReBond Inventory Level&#39;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">valueType</span><span class="o">=&lt;</span><span class="n">TypeSignal</span><span class="o">.</span><span class="n">numeric</span><span class="p">:</span> <span class="s1">&#39;numeric&#39;</span><span class="o">&gt;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">description</span><span class="o">=</span><span class="s1">&#39;How many reams of the Dunder ReBond we have in the warehouse.&#39;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">labels</span><span class="o">=</span><span class="p">{</span>
<span class="gp">... </span>                    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Recycled&#39;</span><span class="p">,</span> <span class="s1">&#39;Bond&#39;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="s1">&#39;location&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Scranton&#39;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="s1">&#39;threat-level&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Midnight&#39;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">},</span>
<span class="gp">... </span>                <span class="n">engUnit</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">enumValues</span><span class="o">=</span><span class="p">{},</span>
<span class="gp">... </span>                <span class="n">sourceType</span><span class="o">=&lt;</span><span class="n">SourceTypeSignal</span><span class="o">.</span><span class="n">measurement</span><span class="p">:</span> <span class="s1">&#39;measurement&#39;</span><span class="o">&gt;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">sampleInterval</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">gapDetection</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">7200</span><span class="p">),</span>
<span class="gp">... </span>                <span class="n">visible</span><span class="o">=</span><span class="kc">True</span>
<span class="gp">... </span>            <span class="p">),</span>
<span class="gp">... </span>            <span class="n">relationships</span><span class="o">=</span><span class="p">{}</span>
<span class="gp">... </span>        <span class="p">),</span>
<span class="gp">... </span>        <span class="n">ItemSelectView</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
<span class="gp">... </span>        <span class="o">...</span>
<span class="gp">... </span>    <span class="p">]</span>
<span class="gp">... </span><span class="p">),</span>
<span class="gp">... </span><span class="n">error</span><span class="o">=</span><span class="kc">None</span>
</pre></div>
</div>
<p>In case of the error the method return a pydantic model with the following format:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jsonrpc</span> <span class="o">=</span> <span class="s1">&#39;2.0&#39;</span>
<span class="gp">... </span><span class="nb">id</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span>
<span class="gp">... </span><span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">... </span><span class="n">error</span> <span class="o">=</span> <span class="n">Error</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">code</span> <span class="o">=</span> <span class="s1">&#39;-32602&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">message</span> <span class="o">=</span> <span class="s1">&#39;Invalid params&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">data</span> <span class="o">=</span> <span class="n">ErrorData</span><span class="p">(</span><span class="n">trace</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">trace_id</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">params</span> <span class="o">=</span> <span class="p">{})</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyclarify.client.Client.save_signals">
<span class="sig-name descname"><span class="pre">save_signals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">ConstrainedStrValue</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signals</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../views/signals.html#pyclarify.views.signals.Signal" title="pyclarify.views.signals.Signal"><span class="pre">Signal</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signals_by_input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">ConstrainedStrValue</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="../views/signals.html#pyclarify.views.signals.Signal" title="pyclarify.views.signals.Signal"><span class="pre">Signal</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Response</span></span></span><a class="reference internal" href="../../_modules/pyclarify/client.html#Client.save_signals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyclarify.client.Client.save_signals" title="Permalink to this definition"></a></dt>
<dd><p>This call inserts metadata to one or multiple signals. The signals are uniquely identified by its INPUT_ID.
Mirroring the Clarify API call <a class="reference external" href="https://docs.clarify.io/api/next/methods/integration/save-signals">integration.saveSignals</a> .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_ids</strong> (<em>List</em><em>[</em><em>'INPUT_ID'</em><em>]</em>) – List of strings to be the input ID of the signal.
Click <a class="reference external" href="https://docs.clarify.io/api/1.1/types/fields#input-key">here</a> for more information.</p></li>
<li><p><strong>signals</strong> (<em>List</em><em>[</em><a class="reference internal" href="../views/signals.html#pyclarify.views.signals.Signal" title="pyclarify.views.signals.Signal"><em>Signal</em></a><em>]</em>) – List of Signal object that contains metadata for a signal.
Click <a class="reference external" href="https://docs.clarify.io/api/1.1/types/views#signal-save-integration-namespace">here</a> for more information.</p></li>
<li><p><strong>create_only</strong> (<em>bool</em><em>, </em><em>default False</em>) – If set to true, skip update of information for existing signals. That is, all Input_ID’s
that map to existing signals are silently ignored.</p></li>
<li><p><strong>integration</strong> (<em>str</em><em>, </em><em>default None</em>) – Integration ID in string format. None means using the integration in credential file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>Response.result.data</cite> is a dictionary mapping INPUT_ID to SIGNAL_ID.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Response</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s2">&quot;./clarify-credentials.json&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Saving by using a dictionary.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyclarify</span> <span class="kn">import</span> <span class="n">Signal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">signal</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Home temperature&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;Temperature in the bedroom&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">labels</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;data-source&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Raspberry Pi&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Home&quot;</span><span class="p">]</span>
<span class="gp">... </span>    <span class="p">}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">input_dict</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;&lt;INPUT_ID&gt;&quot;</span> <span class="p">:</span> <span class="n">signal</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">save_signals</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">signals_by_input</span><span class="o">=</span><span class="n">input_dict</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<p>Saving using arrays.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyclarify</span> <span class="kn">import</span> <span class="n">Signal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">signal</span> <span class="o">=</span> <span class="n">Signal</span><span class="p">(</span>
<span class="gp">... </span>   <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Home temperature&quot;</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;Temperature in the bedroom&quot;</span><span class="p">,</span>
<span class="gp">... </span>   <span class="n">labels</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;data-source&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Raspberry Pi&quot;</span><span class="p">],</span> <span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Home&quot;</span><span class="p">]}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">save_signals</span><span class="p">(</span><span class="n">input_ids</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;INPUT_ID&#39;</span><span class="p">],</span> <span class="n">signals</span><span class="o">=</span><span class="p">[</span><span class="n">signal</span><span class="p">],</span> <span class="n">create_only</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<dl>
<dt>Response</dt><dd><p>In case of a valid return value, returns a pydantic model with the following format:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jsonrpc</span> <span class="o">=</span> <span class="s1">&#39;2.0&#39;</span>
<span class="gp">... </span><span class="nb">id</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span>
<span class="gp">... </span><span class="n">result</span> <span class="o">=</span> <span class="n">SaveSignalsResponse</span><span class="p">(</span>
<span class="gp">... </span>            <span class="n">signalsByInput</span><span class="o">=</span><span class="p">{</span>
<span class="gp">... </span>                <span class="s1">&#39;INPUT_ID&#39;</span><span class="p">:</span> <span class="n">SaveSummary</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;SIGNAL_ID&#39;</span><span class="p">,</span> <span class="n">created</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">updated</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">... </span>             <span class="p">}</span>
<span class="gp">... </span>         <span class="p">)</span>
<span class="gp">... </span><span class="n">error</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>
</div>
<p>In case of the error the method return a pydantic model with the following format:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jsonrpc</span> <span class="o">=</span> <span class="s1">&#39;2.0&#39;</span>
<span class="gp">... </span><span class="nb">id</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span>
<span class="gp">... </span><span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">... </span><span class="n">error</span> <span class="o">=</span> <span class="n">Error</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">code</span> <span class="o">=</span> <span class="s1">&#39;-32602&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">message</span> <span class="o">=</span> <span class="s1">&#39;Invalid params&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">data</span> <span class="o">=</span> <span class="n">ErrorData</span><span class="p">(</span><span class="n">trace</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">trace_id</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">params</span> <span class="o">=</span> <span class="p">{})</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyclarify.client.Client.publish_signals">
<span class="sig-name descname"><span class="pre">publish_signals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">signal_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">ConstrainedStrValue</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">items</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">ItemSaveView</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">items_by_signal</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">ConstrainedStrValue</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ItemSaveView</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_only</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Response</span></span></span><a class="reference internal" href="../../_modules/pyclarify/client.html#Client.publish_signals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyclarify.client.Client.publish_signals" title="Permalink to this definition"></a></dt>
<dd><p>Publishes one or multiple signals to create one or multiple items, and creates or updates a set of signals with the provided metadata.
Each signal is uniquely identified by its signal ID in combination with the integration ID.
Mirroring the Clarify API call <a class="reference external" href="https://docs.clarify.io/api/next/methods/admin/publish-signals">admin.publishSignals</a> .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal_ids</strong> (<em>List</em><em>[</em><em>'&lt;SIGNAL_ID&gt;'</em><em>]</em>) – List of strings to be the signal ID of the signal.</p></li>
<li><p><strong>items</strong> (<em>List</em><em>[ </em><a class="reference internal" href="../views/items.html#pyclarify.views.items.Item" title="pyclarify.views.items.Item"><em>Item</em></a><em> ]</em>) – List of Item object that contains metadata for a Item.
Click <a class="reference external" href="https://docs.clarify.io/api/next/datatypes/item">here</a> for more information.</p></li>
<li><p><strong>items_by_signal</strong> (<em>Dict</em><em>[</em><em>ResourceID</em><em>, </em><a class="reference internal" href="../views/items.html#pyclarify.views.items.Item" title="pyclarify.views.items.Item"><em>Item</em></a><em>]</em>) – Dictionary with IDs of signals mapped to Item metadata.</p></li>
<li><p><strong>create_only</strong> (<em>bool</em><em>, </em><em>default False</em>) – If set to True, skip update of information for existing Items. That is, all signal_ids
that map to existing items are silently ignored.</p></li>
<li><p><strong>integration</strong> (<em>str Default None</em>) – Integration ID in string format. None means using the integration in credential file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><cite>Response.result.data</cite> is a dictionary mapping &lt;SIGNAL_ID&gt; to &lt;ITEM_ID&gt;.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Response</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s2">&quot;./clarify-credentials.json&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Publishing by using a dictionary.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyclarify</span> <span class="kn">import</span> <span class="n">Item</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item</span> <span class="o">=</span> <span class="n">Item</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Home temperature&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;Temperature in the bedroom&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">labels</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;data-source&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Raspberry Pi&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Home&quot;</span><span class="p">]</span>
<span class="gp">... </span>    <span class="p">},</span>
<span class="gp">... </span>    <span class="n">visible</span><span class="o">=</span><span class="kc">True</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">items_dict</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;&lt;SIGNAL_ID&gt;&quot;</span><span class="p">:</span> <span class="n">item</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">publish_signals</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">items_by_signal</span><span class="o">=</span><span class="n">item_dict</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<p>Publishing using arrays.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyclarify</span> <span class="kn">import</span> <span class="n">Item</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">item</span> <span class="o">=</span> <span class="n">Item</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;Home temperature&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;Temperature in the bedroom&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">labels</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>        <span class="s2">&quot;data-source&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Raspberry Pi&quot;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s2">&quot;location&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Home&quot;</span><span class="p">]},</span>
<span class="gp">... </span>    <span class="n">visible</span><span class="o">=</span><span class="kc">True</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">publish_signals</span><span class="p">(</span><span class="n">signal_ids</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;SIGNAL_ID&#39;</span><span class="p">],</span> <span class="n">items</span><span class="o">=</span><span class="p">[</span><span class="n">item</span><span class="p">],</span> <span class="n">create_only</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<dl>
<dt>Response</dt><dd><p>In case of a valid return value, returns a pydantic model with the following format:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jsonrpc</span> <span class="o">=</span> <span class="s1">&#39;2.0&#39;</span>
<span class="gp">... </span><span class="nb">id</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span>
<span class="gp">... </span><span class="n">result</span> <span class="o">=</span> <span class="n">PublishSignalsResponse</span><span class="p">(</span>
<span class="gp">... </span>                   <span class="n">itemsBySignal</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;SIGNAL_ID&#39;</span><span class="p">:</span> <span class="n">SaveSummary</span><span class="p">(</span>
<span class="gp">... </span>                          <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;ITEM_ID&#39;</span><span class="p">,</span>
<span class="gp">... </span>                          <span class="n">created</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>                          <span class="n">updated</span><span class="o">=</span><span class="kc">False</span> <span class="p">)})</span>
<span class="gp">... </span><span class="n">error</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>
</div>
<p>In case of the error the method return a pydantic model with the following format:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jsonrpc</span> <span class="o">=</span> <span class="s1">&#39;2.0&#39;</span>
<span class="gp">... </span><span class="nb">id</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span>
<span class="gp">... </span><span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">... </span><span class="n">error</span> <span class="o">=</span> <span class="n">Error</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">code</span> <span class="o">=</span> <span class="s1">&#39;-32602&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">message</span> <span class="o">=</span> <span class="s1">&#39;Invalid params&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">data</span> <span class="o">=</span> <span class="n">ErrorData</span><span class="p">(</span><span class="n">trace</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">trace_id</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">params</span> <span class="o">=</span> <span class="p">{})</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyclarify.client.Client.select_signals">
<span class="sig-name descname"><span class="pre">select_signals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Response</span></span></span><a class="reference internal" href="../../_modules/pyclarify/client.html#Client.select_signals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyclarify.client.Client.select_signals" title="Permalink to this definition"></a></dt>
<dd><p>Return signal metadata from selected signals and/or item.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filter</strong> (<a class="reference internal" href="../views/filter.html#pyclarify.query.filter.Filter" title="pyclarify.query.filter.Filter"><em>Filter</em></a><em>, </em><em>optional</em>) – A Filter Model that describes a mongodb filter to be applied.</p></li>
<li><p><strong>skip</strong> (<em>int</em><em>, </em><em>default 0</em>) – Integer describing how many of the first N items to exclude from response.</p></li>
<li><p><strong>limit</strong> (<em>int</em><em>, </em><em>default 10</em>) – Number of items to include in the match.</p></li>
<li><p><strong>sort</strong> (<em>list</em><em> of </em><em>strings</em>) – List of strings describing the order in which to sort the items in the response.</p></li>
<li><p><strong>total</strong> (<em>bool</em><em>, </em><em>default False</em>) – When true, force the inclusion of a total count in the response. A total count is the total number of resources that matches filter.</p></li>
<li><p><strong>include</strong> (<em>List</em><em> of </em><em>strings</em><em>, </em><em>optional</em>) – A list of strings specifying which relationships to be included in the response.</p></li>
<li><p><strong>integration</strong> (<em>str Default None</em>) – Integration ID in string format. None means using the integration in credential file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">Response.result.data</span></code> is an array of SignalSelectView</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Response</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s2">&quot;./clarify-credentials.json&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Querying signals based on a filter.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">select_signals</span><span class="p">(</span>
<span class="gp">... </span>    <span class="nb">filter</span> <span class="o">=</span> <span class="n">Filter</span><span class="p">(</span><span class="n">fields</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="nb">filter</span><span class="o">.</span><span class="n">NotEqual</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s2">&quot;Air Temperature&quot;</span><span class="p">)}),</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<p>Getting 1000 signals.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">select_signals</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">limit</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<p>Getting 100 signals and sorting by name.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">select_signals</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">limit</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">sort</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">],</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<p>Getting total number of signals (as meta data) and including the exposed items.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">select_signals</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">total</span><span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">include</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;item&quot;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<dl>
<dt>Response</dt><dd><p>In case of a valid return value, returns a pydantic model with the following format:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jsonrpc</span><span class="o">=</span><span class="s1">&#39;2.0&#39;</span>
<span class="gp">... </span><span class="nb">id</span><span class="o">=</span><span class="s1">&#39;1&#39;</span>
<span class="gp">... </span><span class="n">result</span><span class="o">=</span><span class="n">Selection</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">meta</span><span class="o">=</span><span class="n">SelectionMeta</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">total</span><span class="o">=</span><span class="mi">725</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">groupIncludedByType</span><span class="o">=</span><span class="kc">True</span>
<span class="gp">... </span>    <span class="p">),</span>
<span class="gp">... </span>    <span class="n">data</span><span class="o">=</span><span class="p">[</span>
<span class="gp">... </span>        <span class="n">SignalSelectView</span><span class="p">(</span>
<span class="gp">... </span>            <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;c5fg083sab1b6pm3u290&#39;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;signals&#39;</span><span class="p">,</span>
<span class="gp">... </span>            <span class="n">meta</span><span class="o">=</span><span class="n">ResourceMetadata</span><span class="p">(</span>
<span class="gp">... </span>                <span class="n">annotations</span><span class="o">=</span><span class="p">{</span>
<span class="gp">... </span>                    <span class="s2">&quot;docs-clarify-io/example/environment&quot;</span><span class="p">:</span> <span class="s2">&quot;office&quot;</span>
<span class="gp">... </span>                <span class="p">},</span>
<span class="gp">... </span>                <span class="n">attributesHash</span><span class="o">=</span><span class="s1">&#39;9ae4eb17c8b3b9f24cea06f09a1a4cab34569077&#39;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">relationshipsHash</span><span class="o">=</span><span class="s1">&#39;02852897e7fe1e7896360b3c3914c5207d2af6fa&#39;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">updatedAt</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">199000</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">),</span>
<span class="gp">... </span>                <span class="n">createdAt</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">44</span><span class="p">,</span> <span class="mi">897000</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
<span class="gp">... </span>            <span class="p">),</span>
<span class="gp">... </span>            <span class="n">attributes</span><span class="o">=</span><span class="n">SavedSignal</span><span class="p">(</span>
<span class="gp">... </span>                <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Total reams of paper&#39;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">description</span><span class="o">=</span><span class="s1">&#39;Total count of reams of paper in inventory&#39;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">labels</span><span class="o">=</span><span class="p">{</span>
<span class="gp">... </span>                    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Recycled&#39;</span><span class="p">,</span> <span class="s1">&#39;Bond&#39;</span><span class="p">],</span>
<span class="gp">... </span>                    <span class="s1">&#39;location&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Scranton&#39;</span><span class="p">]</span>
<span class="gp">... </span>                <span class="p">},</span>
<span class="gp">... </span>                <span class="n">sourceType</span><span class="o">=&lt;</span><span class="n">SourceTypeSignal</span><span class="o">.</span><span class="n">measurement</span><span class="p">:</span> <span class="s1">&#39;measurement&#39;</span><span class="o">&gt;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">valueType</span><span class="o">=&lt;</span><span class="n">TypeSignal</span><span class="o">.</span><span class="n">numeric</span><span class="p">:</span> <span class="s1">&#39;numeric&#39;</span><span class="o">&gt;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">engUnit</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">enumValues</span><span class="o">=</span><span class="p">{},</span>
<span class="gp">... </span>                <span class="n">sampleInterval</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">gapDetection</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="gp">... </span>                <span class="nb">input</span><span class="o">=</span><span class="s1">&#39;inventory_recycled_bond&#39;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">integration</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">item</span><span class="o">=</span><span class="kc">None</span>
<span class="gp">... </span>            <span class="p">),</span>
<span class="gp">... </span>            <span class="n">relationships</span><span class="o">=</span><span class="n">RelationshipsDict</span><span class="p">(</span>
<span class="gp">... </span>                <span class="n">integration</span><span class="o">=</span><span class="n">RelationshipData</span><span class="p">(</span>
<span class="gp">... </span>                    <span class="n">data</span><span class="o">=</span><span class="n">RelationshipMetadata</span><span class="p">(</span>
<span class="gp">... </span>                        <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;integrations&#39;</span><span class="p">,</span>
<span class="gp">... </span>                        <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;c5e3u8coh8drsbpi4cvg&#39;</span>
<span class="gp">... </span>                    <span class="p">)</span>
<span class="gp">... </span>                <span class="p">),</span>
<span class="gp">... </span>                <span class="n">item</span><span class="o">=</span><span class="n">RelationshipData</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="gp">... </span>            <span class="p">)</span>
<span class="gp">... </span>        <span class="p">),</span>
<span class="gp">... </span>        <span class="o">...</span>
<span class="gp">... </span>    <span class="p">],</span>
<span class="gp">... </span>    <span class="n">included</span><span class="o">=</span><span class="n">IncludedField</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">integration</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">items</span><span class="o">=</span><span class="p">[</span>
<span class="gp">... </span>            <span class="n">ItemSelectView</span><span class="p">(</span>
<span class="gp">... </span>                <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;c5i41fjsbu8cohpkcpvg&#39;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="nb">type</span><span class="o">=</span><span class="s1">&#39;items&#39;</span><span class="p">,</span>
<span class="gp">... </span>                <span class="n">meta</span><span class="o">=</span><span class="n">ResourceMetadata</span><span class="p">(</span>
<span class="gp">... </span>                    <span class="n">annotations</span><span class="o">=</span><span class="p">{</span>
<span class="gp">... </span>                        <span class="s2">&quot;docs-clarify-io/example/environment&quot;</span><span class="p">:</span> <span class="s2">&quot;office&quot;</span>
<span class="gp">... </span>                    <span class="p">},</span>
<span class="gp">... </span>                    <span class="n">attributesHash</span><span class="o">=</span><span class="s1">&#39;7602afa2fe611e0c8eff17f7936e108ee29e6817&#39;</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">relationshipsHash</span><span class="o">=</span><span class="s1">&#39;5f36b2220a14b54ee5ea290645ee34d943ea5be5&#39;</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">updatedAt</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">58</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">264000</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">),</span>
<span class="gp">... </span>                    <span class="n">createdAt</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span> <span class="mi">46</span><span class="p">,</span> <span class="mi">958000</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)</span>
<span class="gp">... </span>                <span class="p">),</span>
<span class="gp">... </span>                <span class="n">attributes</span><span class="o">=</span><span class="n">Item</span><span class="p">(</span>
<span class="gp">... </span>                    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Dunder ReBond Inventory Level&#39;</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">valueType</span><span class="o">=&lt;</span><span class="n">TypeSignal</span><span class="o">.</span><span class="n">numeric</span><span class="p">:</span> <span class="s1">&#39;numeric&#39;</span><span class="o">&gt;</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">description</span><span class="o">=</span><span class="s1">&#39;How many reams of the Dunder ReBond we have in the warehouse.&#39;</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">labels</span><span class="o">=</span><span class="p">{</span>
<span class="gp">... </span>                        <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Recycled&#39;</span><span class="p">,</span> <span class="s1">&#39;Bond&#39;</span><span class="p">],</span>
<span class="gp">... </span>                        <span class="s1">&#39;location&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Scranton&#39;</span><span class="p">],</span>
<span class="gp">... </span>                        <span class="s1">&#39;threat-level&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;Midnight&#39;</span><span class="p">]</span>
<span class="gp">... </span>                    <span class="p">},</span>
<span class="gp">... </span>                    <span class="n">engUnit</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">enumValues</span><span class="o">=</span><span class="p">{},</span>
<span class="gp">... </span>                    <span class="n">sourceType</span><span class="o">=&lt;</span><span class="n">SourceTypeSignal</span><span class="o">.</span><span class="n">measurement</span><span class="p">:</span> <span class="s1">&#39;measurement&#39;</span><span class="o">&gt;</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">sampleInterval</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="gp">... </span>                    <span class="n">gapDetection</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">seconds</span><span class="o">=</span><span class="mi">7200</span><span class="p">),</span>
<span class="gp">... </span>                    <span class="n">visible</span><span class="o">=</span><span class="kc">True</span>
<span class="gp">... </span>                <span class="p">)</span>
<span class="gp">... </span>            <span class="p">)</span>
<span class="gp">... </span>            <span class="o">...</span>
<span class="gp">... </span>        <span class="p">]</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">... </span><span class="n">error</span><span class="o">=</span><span class="kc">None</span>
</pre></div>
</div>
<p>In case of the error the method return a pydantic model with the following format:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jsonrpc</span> <span class="o">=</span> <span class="s1">&#39;2.0&#39;</span>
<span class="gp">... </span><span class="nb">id</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span>
<span class="gp">... </span><span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">... </span><span class="n">error</span> <span class="o">=</span> <span class="n">Error</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">code</span> <span class="o">=</span> <span class="s1">&#39;-32602&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">message</span> <span class="o">=</span> <span class="s1">&#39;Invalid params&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">data</span> <span class="o">=</span> <span class="n">ErrorData</span><span class="p">(</span><span class="n">trace</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">trace_id</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">params</span> <span class="o">=</span> <span class="p">{})</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyclarify.client.Client.data_frame">
<span class="sig-name descname"><span class="pre">data_frame</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gte</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rollup</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">timedelta</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeZone</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'UTC'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">firstDayOfWeek</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConstrainedIntValue</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">timedelta</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Response</span></span></span><a class="reference internal" href="../../_modules/pyclarify/client.html#Client.data_frame"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyclarify.client.Client.data_frame" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve DataFrame for items stored in Clarify.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filter</strong> (<a class="reference internal" href="../views/filter.html#pyclarify.query.filter.Filter" title="pyclarify.query.filter.Filter"><em>Filter</em></a><em>, </em><em>optional</em>) – A Filter Model that describes a mongodb filter to be applied.</p></li>
<li><p><strong>sort</strong> (<em>list</em><em> of </em><em>strings</em>) – List of strings describing the order in which to sort the items in the response.</p></li>
<li><p><strong>limit</strong> (<em>int</em><em>, </em><em>default 20</em>) – The maximum number of resources to select. Negative numbers means no limit, which may or may not be allowed.</p></li>
<li><p><strong>skip</strong> (<em>int</em><em>, </em><em>default: 0</em>) – Skip the first N matches. A negative skip is treated as 0.</p></li>
<li><p><strong>total</strong> (<em>bool</em><em>, </em><em>default: False</em>) – When true, force the inclusion of a total count in the response. A total count is the total number of resources that matches filter.</p></li>
<li><p><strong>gte</strong> (<a class="reference external" href="https://docs.clarify.io/api/1.1/types/fields#datetime">ISO 8601 timestamp</a> , default: &lt;now - 7 days&gt;) – An RFC3339 time describing the inclusive start of the window.</p></li>
<li><p><strong>lt</strong> (<a class="reference external" href="https://docs.clarify.io/api/1.1/types/fields#datetime">ISO 8601 timestamp</a> , default: &lt;now + 7 days&gt;) – An RFC3339 time describing the exclusive end of the window.</p></li>
<li><p><strong>last</strong> (<em>int</em><em>, </em><em>default: -1</em>) – If above 0, select last N timestamps per series. The selection happens after the rollup aggregation.</p></li>
<li><p><strong>rollup</strong> (<a class="reference external" href="https://docs.clarify.io/api/1.1/types/fields#fixed-duration">RFC3339 duration</a> or “window”, default: None) – If duration is specified, roll-up the values into either the full time window
(<cite>gte</cite> -&gt; <cite>lt</cite>) or evenly sized buckets.</p></li>
<li><p><strong>include</strong> (<em>List</em><em> of </em><em>strings</em><em>, </em><em>default:</em><em> [</em><em>]</em>) – A list of strings specifying which relationships to be included in the response.</p></li>
<li><p><strong>window_size</strong> (<a class="reference external" href="https://docs.clarify.io/api/1.1/types/fields#fixed-duration">RFC3339 duration</a>, default None) – If duration is specified, the iterator will use the specified window as a paging size instead of default API limits. This is commonly used when resolution of data is too high to be packaged with default
values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">Response.result.data</span></code> is a DataFrame</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Response</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#pyclarify.client.Client.select_items" title="pyclarify.client.Client.select_items"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Client.select_items</span></code></a></dt><dd><p>Retrieve item metadata from selected items.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>Time selection:</p>
<ul class="simple">
<li><p>Maximum window size is 40 days (40 * 24 hours) when rollup is null or less than PT1M (1 minute).</p></li>
<li><p>Maximum window size is 400 days (400 * 24 hours) when rollup is greater than or equal to PT1M (1 minute).</p></li>
<li><p>No maximum window size if rollup is window.</p></li>
</ul>
<p>The limits are used internally by the Clarify API. Should you have very high resolution data (&gt;=1hz), you can use <code class="docutils literal notranslate"><span class="pre">time_window</span></code> argument to <strong>reduce</strong> the window, resulting in more requests.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s2">&quot;./clarify-credentials.json&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Getting data frame with a filter.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">data_frame</span><span class="p">(</span>
<span class="gp">... </span>    <span class="nb">filter</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">Filter</span><span class="p">(</span><span class="n">fields</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="n">query</span><span class="o">.</span><span class="n">NotEqual</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s2">&quot;Air Temperature&quot;</span><span class="p">)}),</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<p>Getting data with a time range.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">data_frame</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">gte</span><span class="o">=</span><span class="s2">&quot;2022-01-01T01:01:01Z&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">lt</span><span class="o">=</span><span class="s2">&quot;2022-01-09T01:01:01Z&quot;</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<p>Skipping first 3 items and only retrieving 5 items, sorted with descending id.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">data_frame</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">sort</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;-id&quot;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">limit</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">skip</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<p>Setting a lower window size due to json decoding errors.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">data_frame</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">window_size</span> <span class="o">=</span> <span class="s2">&quot;P20DT&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">limit</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">skip</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>We recommend using <code class="docutils literal notranslate"><span class="pre">rollup</span></code> instead of <code class="docutils literal notranslate"><span class="pre">window_size</span></code> due to execution time being much faster.</p>
</div>
<p>Using rollup to get sampled data.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">data_frame</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">rollup</span> <span class="o">=</span> <span class="s2">&quot;PT5M&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">limit</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">skip</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">data</span>
<span class="gp">... </span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">times</span><span class="o">=</span><span class="p">[</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">11</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">),</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">)],</span>
<span class="gp">... </span>    <span class="n">series</span><span class="o">=</span><span class="p">{</span>
<span class="gp">... </span>        <span class="s1">&#39;cbpmaq6rpn52969vfl1g_avg&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.875</span><span class="p">,</span> <span class="mf">6.8</span><span class="p">,</span> <span class="mf">4.2</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">3.6</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">2.2</span><span class="p">,</span> <span class="mf">4.25</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;cbpmaq6rpn52969vfl1g_count&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;cbpmaq6rpn52969vfl1g_max&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;cbpmaq6rpn52969vfl1g_min&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;cbpmaq6rpn52969vfl1g_sum&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">50.0</span><span class="p">,</span> <span class="mf">47.0</span><span class="p">,</span> <span class="mf">34.0</span><span class="p">,</span> <span class="mf">21.0</span><span class="p">,</span> <span class="mf">21.0</span><span class="p">,</span> <span class="mf">18.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">11.0</span><span class="p">,</span> <span class="mf">17.0</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;cbpmaq6rpn52969vfl20_avg&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">4.7</span><span class="p">,</span> <span class="mf">3.75</span><span class="p">,</span> <span class="mf">3.6</span><span class="p">,</span> <span class="mf">5.2</span><span class="p">,</span> <span class="mf">7.333333333333333</span><span class="p">,</span> <span class="mf">3.6</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">3.6</span><span class="p">,</span> <span class="mf">6.75</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;cbpmaq6rpn52969vfl20_count&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;cbpmaq6rpn52969vfl20_max&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">8.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;cbpmaq6rpn52969vfl20_min&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;cbpmaq6rpn52969vfl20_sum&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">47.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">,</span> <span class="mf">18.0</span><span class="p">,</span> <span class="mf">26.0</span><span class="p">,</span> <span class="mf">22.0</span><span class="p">,</span> <span class="mf">18.0</span><span class="p">,</span> <span class="mf">14.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">18.0</span><span class="p">,</span> <span class="mf">27.0</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;cbpmaq6rpn52969vfl2g_avg&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">8.0</span><span class="p">,</span> <span class="mf">3.7</span><span class="p">,</span> <span class="mf">4.75</span><span class="p">,</span> <span class="mf">1.6</span><span class="p">,</span> <span class="mf">3.6</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">5.6</span><span class="p">,</span> <span class="mf">8.5</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">3.8</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;cbpmaq6rpn52969vfl2g_count&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;cbpmaq6rpn52969vfl2g_max&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">8.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;cbpmaq6rpn52969vfl2g_min&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">8.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;cbpmaq6rpn52969vfl2g_sum&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">16.0</span><span class="p">,</span> <span class="mf">37.0</span><span class="p">,</span> <span class="mf">38.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">18.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">,</span> <span class="mf">28.0</span><span class="p">,</span> <span class="mf">17.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">19.0</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;cbpmaq6rpn52969vfl30_avg&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">5.6</span><span class="p">,</span> <span class="mf">3.875</span><span class="p">,</span> <span class="mf">3.2</span><span class="p">,</span> <span class="mf">5.2</span><span class="p">,</span> <span class="mf">4.666666666666667</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">4.5</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">5.8</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;cbpmaq6rpn52969vfl30_count&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;cbpmaq6rpn52969vfl30_max&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;cbpmaq6rpn52969vfl30_min&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;cbpmaq6rpn52969vfl30_sum&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">4.0</span><span class="p">,</span> <span class="mf">56.0</span><span class="p">,</span> <span class="mf">31.0</span><span class="p">,</span> <span class="mf">16.0</span><span class="p">,</span> <span class="mf">26.0</span><span class="p">,</span> <span class="mf">14.0</span><span class="p">,</span> <span class="mf">25.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">29.0</span><span class="p">,</span> <span class="mf">32.0</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;cbpmaq6rpn52969vfl3g_avg&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">3.3</span><span class="p">,</span> <span class="mf">6.75</span><span class="p">,</span> <span class="mf">5.8</span><span class="p">,</span> <span class="mf">4.8</span><span class="p">,</span> <span class="mf">5.666666666666667</span><span class="p">,</span> <span class="mf">3.8</span><span class="p">,</span> <span class="mf">6.5</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">3.25</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;cbpmaq6rpn52969vfl3g_count&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;cbpmaq6rpn52969vfl3g_max&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">2.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">9.0</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">8.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">7.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;cbpmaq6rpn52969vfl3g_min&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span>
<span class="gp">... </span>        <span class="s1">&#39;cbpmaq6rpn52969vfl3g_sum&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">33.0</span><span class="p">,</span> <span class="mf">54.0</span><span class="p">,</span> <span class="mf">29.0</span><span class="p">,</span> <span class="mf">24.0</span><span class="p">,</span> <span class="mf">17.0</span><span class="p">,</span> <span class="mf">19.0</span><span class="p">,</span> <span class="mf">13.0</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">,</span> <span class="mf">15.0</span><span class="p">,</span> <span class="mf">13.0</span><span class="p">]</span>
<span class="gp">... </span><span class="p">})</span>
</pre></div>
</div>
<dl>
<dt>Response</dt><dd><p>In case of a valid return value, returns a pydantic model with the following format:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jsonrpc</span> <span class="o">=</span> <span class="s1">&#39;2.0&#39;</span>
<span class="gp">... </span><span class="nb">id</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span>
<span class="gp">... </span><span class="n">result</span> <span class="o">=</span> <span class="n">Selection</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">meta</span><span class="o">=</span><span class="p">{</span>
<span class="gp">... </span>        <span class="s1">&#39;total&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>        <span class="s1">&#39;groupIncludedByType&#39;</span><span class="p">:</span> <span class="kc">True</span>
<span class="gp">... </span>    <span class="p">},</span>
<span class="gp">... </span>    <span class="n">data</span><span class="o">=</span><span class="n">DataFrame</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">times</span><span class="o">=</span><span class="p">[</span>
<span class="gp">... </span>            <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">),</span>
<span class="gp">... </span>            <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">),</span>
<span class="gp">... </span>            <span class="o">...</span><span class="p">],</span>
<span class="gp">... </span>        <span class="n">series</span><span class="o">=</span><span class="p">{</span>
<span class="gp">... </span>            <span class="s1">&#39;c5i41fjsbu8cohpkcpvg&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">0.18616</span><span class="p">,</span> <span class="mf">0.18574000000000002</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
<span class="gp">... </span>            <span class="s1">&#39;c5i41fjsbu8cohfdepvg&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">450.876543125</span><span class="p">,</span> <span class="mf">450.176543554</span><span class="p">,</span> <span class="o">...</span><span class="p">],</span>
<span class="gp">... </span>            <span class="o">...</span>
<span class="gp">... </span>        <span class="p">}</span>
<span class="gp">... </span>    <span class="p">)</span>
<span class="gp">...</span>
<span class="gp">... </span><span class="n">error</span> <span class="o">=</span> <span class="kc">None</span>
</pre></div>
</div>
<p>In case of the error the method return a pydantic model with the following format:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">jsonrpc</span> <span class="o">=</span> <span class="s1">&#39;2.0&#39;</span>
<span class="gp">... </span><span class="nb">id</span> <span class="o">=</span> <span class="s1">&#39;1&#39;</span>
<span class="gp">... </span><span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
<span class="gp">... </span><span class="n">error</span> <span class="o">=</span> <span class="n">Error</span><span class="p">(</span>
<span class="gp">... </span>        <span class="n">code</span> <span class="o">=</span> <span class="s1">&#39;-32602&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">message</span> <span class="o">=</span> <span class="s1">&#39;Invalid params&#39;</span><span class="p">,</span>
<span class="gp">... </span>        <span class="n">data</span> <span class="o">=</span> <span class="n">ErrorData</span><span class="p">(</span><span class="n">trace</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">trace_id</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">params</span> <span class="o">=</span> <span class="p">{})</span>
<span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can change the <cite>type</cite> of DataFrame from pyclarify to pandas using the <cite>to_pandas()</cite> method.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">data_frame</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c_df</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p_df</span> <span class="o">=</span> <span class="n">c_df</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<span class="gp">... </span>                                  <span class="n">cbpmaq6rpn52969vfl00</span>  <span class="n">cbpmaq6rpn52969vfl0g</span>  <span class="o">...</span>  <span class="n">cbpmaq6rpn52969vfl90</span>  <span class="n">cbpmaq6rpn52969vfl9g</span>
<span class="gp">... </span><span class="mi">2022</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">05</span> <span class="mi">11</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mf">11.432725</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>                   <span class="mf">2.0</span>                   <span class="mf">8.0</span>  <span class="o">...</span>                   <span class="mf">0.0</span>                   <span class="mf">4.0</span>
<span class="gp">... </span><span class="mi">2022</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">05</span> <span class="mi">11</span><span class="p">:</span><span class="mi">31</span><span class="p">:</span><span class="mf">11.432723</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>                   <span class="mf">9.0</span>                   <span class="mf">2.0</span>  <span class="o">...</span>                   <span class="mf">8.0</span>                   <span class="mf">8.0</span>
<span class="gp">... </span><span class="mi">2022</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">05</span> <span class="mi">11</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mf">11.432722</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>                   <span class="mf">6.0</span>                   <span class="mf">4.0</span>  <span class="o">...</span>                   <span class="mf">8.0</span>                   <span class="mf">9.0</span>
<span class="gp">... </span><span class="mi">2022</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">05</span> <span class="mi">11</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mf">11.432720</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>                   <span class="mf">0.0</span>                   <span class="mf">7.0</span>  <span class="o">...</span>                   <span class="mf">9.0</span>                   <span class="mf">4.0</span>
<span class="gp">... </span><span class="mi">2022</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">05</span> <span class="mi">11</span><span class="p">:</span><span class="mi">34</span><span class="p">:</span><span class="mf">11.432719</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>                   <span class="mf">8.0</span>                   <span class="mf">6.0</span>  <span class="o">...</span>                   <span class="mf">8.0</span>                   <span class="mf">5.0</span>
</pre></div>
</div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyclarify.client.Client.evaluate">
<span class="sig-name descname"><span class="pre">evaluate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rollup</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">timedelta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeZone</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">firstDayOfWeek</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ConstrainedIntValue</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">items</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../views/evaluate.html#pyclarify.views.evaluate.ItemAggregation" title="pyclarify.views.evaluate.ItemAggregation"><span class="pre">ItemAggregation</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">calculations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="../views/evaluate.html#pyclarify.views.evaluate.Calculation" title="pyclarify.views.evaluate.Calculation"><span class="pre">Calculation</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gte</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">last</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">timedelta</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Response</span></span></span><a class="reference internal" href="../../_modules/pyclarify/client.html#Client.evaluate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pyclarify.client.Client.evaluate" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve DataFrame by aggregating time-series data and perform evaluate formula expressions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>items</strong> (<em>Union</em><em>[</em><em>Dict</em><em>, </em><a class="reference internal" href="../views/evaluate.html#pyclarify.views.evaluate.ItemAggregation" title="pyclarify.views.evaluate.ItemAggregation"><em>ItemAggregation</em></a><em>]</em>) – List of item aggregations, describing a particular aggregation method for the item in list.
See the class from pyclarify.views.evaluate.ItemAggregation for attributes.</p></li>
<li><p><strong>calculations</strong> (<em>List</em><em>[</em><em>Union</em><em>[</em><em>Dict</em><em>, </em><a class="reference internal" href="../views/evaluate.html#pyclarify.views.evaluate.Calculation" title="pyclarify.views.evaluate.Calculation"><em>Calculation</em></a><em>]</em><em>]</em>) – List of calculations, where a calculation has access to items and previous calculations in context.
See the class from pyclarify.views.evaluate.Calculation for attributes</p></li>
<li><p><strong>gte</strong> (<a class="reference external" href="https://docs.clarify.io/api/1.1/types/fields#datetime">ISO 8601 timestamp</a> , default: &lt;now - 7 days&gt;) – An RFC3339 time describing the inclusive start of the window.</p></li>
<li><p><strong>lt</strong> (<a class="reference external" href="https://docs.clarify.io/api/1.1/types/fields#datetime">ISO 8601 timestamp</a> , default: &lt;now + 7 days&gt;) – An RFC3339 time describing the exclusive end of the window.</p></li>
<li><p><strong>last</strong> (<em>int</em><em>, </em><em>default: -1</em>) – If above 0, select last N timestamps per series. The selection happens after the rollup aggregation.</p></li>
<li><p><strong>rollup</strong> (<a class="reference external" href="https://docs.clarify.io/api/1.1/types/fields#fixed-duration">RFC3339 duration</a> or “window”, default: None) – If duration is specified, roll-up the values into either the full time window
(<cite>gte</cite> -&gt; <cite>lt</cite>) or evenly sized buckets.</p></li>
<li><p><strong>include</strong> (<em>List</em><em> of </em><em>strings</em><em>, </em><em>default:</em><em> [</em><em>]</em>) – A list of strings specifying which relationships to be included in the response.</p></li>
<li><p><strong>window_size</strong> (<a class="reference external" href="https://docs.clarify.io/api/1.1/types/fields#fixed-duration">RFC3339 duration</a>, default None) – If duration is specified, the iterator will use the specified window as a paging size instead of default API limits. This is commonly used when resolution of data is too high to be packaged with default
values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">Response.result.data</span></code> is a DataFrame</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Response</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#pyclarify.client.Client.data_frame" title="pyclarify.client.Client.data_frame"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Client.data_frame</span></code></a></dt><dd><p>Retrieve data with more filter functionality and without rollup.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>Time selection:</p>
<ul class="simple">
<li><p>Maximum window size is 40 days (40 * 24 hours) when rollup is null or less than PT1M (1 minute).</p></li>
<li><p>Maximum window size is 400 days (400 * 24 hours) when rollup is greater than or equal to PT1M (1 minute).</p></li>
<li><p>No maximum window size if rollup is window.</p></li>
</ul>
<p>The limits are used internally by the Clarify API. Should you have very high resolution data (&gt;=1hz), you can use <code class="docutils literal notranslate"><span class="pre">time_window</span></code> argument to <strong>reduce</strong> the window, resulting in more requests.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s2">&quot;./clarify-credentials.json&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Getting a single item.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">item</span> <span class="o">=</span> <span class="n">ItemAggregation</span><span class="p">(</span>
<span class="gp">... </span>    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;cbpmaq6rpn52969vfl00&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">aggregation</span><span class="o">=</span><span class="s2">&quot;max&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;i1&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="p">[</span><span class="n">item1</span><span class="p">],</span> <span class="n">rollup</span><span class="o">=</span><span class="s2">&quot;PT10M&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">())</span>
<span class="gp">... </span>                            <span class="n">i1</span>
<span class="gp">... </span><span class="mi">2023</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">20</span> <span class="mi">10</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>  <span class="mf">6.0</span>
<span class="gp">... </span><span class="mi">2023</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">20</span> <span class="mi">10</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>  <span class="mf">9.0</span>
<span class="gp">... </span><span class="mi">2023</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">20</span> <span class="mi">10</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>  <span class="mf">8.0</span>
</pre></div>
</div>
<p>Getting a single item in a time range.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="p">[</span><span class="n">item1</span><span class="p">],</span> <span class="n">gte</span><span class="o">=</span><span class="s2">&quot;2022-08-10T00:00:00Z&quot;</span><span class="p">,</span> <span class="n">lt</span><span class="o">=</span><span class="s2">&quot;2022-08-30T00:00:00Z&quot;</span><span class="p">,</span> <span class="n">rollup</span><span class="o">=</span><span class="s2">&quot;PT10M&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">())</span>
<span class="gp">... </span>                            <span class="n">i1</span>
<span class="gp">... </span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span> <span class="mi">09</span><span class="p">:</span><span class="mi">50</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>  <span class="mf">8.0</span>
<span class="gp">... </span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span> <span class="mi">10</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>  <span class="mf">9.0</span>
<span class="gp">... </span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">25</span> <span class="mi">11</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>  <span class="mf">8.0</span>
<span class="gp">... </span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">30</span> <span class="mi">15</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>  <span class="mf">2.0</span>
<span class="gp">... </span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">30</span> <span class="mi">15</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>  <span class="mf">9.0</span>
<span class="gp">... </span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">30</span> <span class="mi">15</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>  <span class="mf">9.0</span>
</pre></div>
</div>
<p>Using a calculation on a single item.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">calc</span> <span class="o">=</span> <span class="n">Calculation</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">formula</span><span class="o">=</span><span class="s2">&quot;i1**2&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;power2&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="p">[</span><span class="n">item1</span><span class="p">],</span> <span class="n">calculations</span><span class="o">=</span><span class="p">[</span><span class="n">calc</span><span class="p">],</span> <span class="n">rollup</span><span class="o">=</span><span class="s2">&quot;PT10M&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">())</span>
<span class="gp">... </span>                            <span class="n">i1</span>  <span class="n">power2</span>
<span class="gp">... </span><span class="mi">2023</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">20</span> <span class="mi">10</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>  <span class="mf">6.0</span>    <span class="mf">36.0</span>
<span class="gp">... </span><span class="mi">2023</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">20</span> <span class="mi">10</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>  <span class="mf">9.0</span>    <span class="mf">81.0</span>
<span class="gp">... </span><span class="mi">2023</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">20</span> <span class="mi">10</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>  <span class="mf">8.0</span>    <span class="mf">64.0</span>
</pre></div>
</div>
<p>Adding two items.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">item</span> <span class="o">=</span> <span class="n">ItemAggregation</span><span class="p">(</span>
<span class="gp">... </span>    <span class="nb">id</span><span class="o">=</span><span class="s2">&quot;cbpmaq6rpn52969vfl0g&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">aggregation</span><span class="o">=</span><span class="s2">&quot;avg&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;i2&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calc</span> <span class="o">=</span> <span class="n">Calculation</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">formula</span><span class="o">=</span><span class="s2">&quot;i1 + i2&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;sumi1i2&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="n">items</span><span class="o">=</span><span class="p">[</span><span class="n">item1</span><span class="p">,</span> <span class="n">item2</span><span class="p">],</span> <span class="n">calculations</span><span class="o">=</span><span class="p">[</span><span class="n">calc</span><span class="p">],</span> <span class="n">rollup</span><span class="o">=</span><span class="s2">&quot;PT10M&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">())</span>
<span class="gp">... </span>                            <span class="n">i1</span>   <span class="n">i2</span>   <span class="n">sumi1i2</span>
<span class="gp">... </span><span class="mi">2023</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">20</span> <span class="mi">10</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>  <span class="mf">6.0</span>   <span class="mf">3.0</span>      <span class="mf">9.0</span>
<span class="gp">... </span><span class="mi">2023</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">20</span> <span class="mi">10</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>  <span class="mf">9.0</span>   <span class="mf">4.0</span>     <span class="mf">13.0</span>
<span class="gp">... </span><span class="mi">2023</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">20</span> <span class="mi">10</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>  <span class="mf">8.0</span>   <span class="mf">4.0</span>     <span class="mf">12.0</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can limit the number of series to be returned by specifying aliases in the <cite>series</cite> parameter.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">items</span><span class="o">=</span><span class="p">[</span><span class="n">item1</span><span class="p">,</span> <span class="n">item2</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">calculations</span><span class="o">=</span><span class="p">[</span><span class="n">calc</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">rollup</span><span class="o">=</span><span class="s2">&quot;PT10M&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">series</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;sumi1i2&quot;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">())</span>
<span class="gp">... </span>                           <span class="n">sumi1i2</span>
<span class="gp">... </span><span class="mi">2023</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">20</span> <span class="mi">10</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>      <span class="mf">9.0</span>
<span class="gp">... </span><span class="mi">2023</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">20</span> <span class="mi">10</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>     <span class="mf">13.0</span>
<span class="gp">... </span><span class="mi">2023</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">20</span> <span class="mi">10</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>     <span class="mf">12.0</span>
</pre></div>
</div>
</div>
<p>Chaining calculations.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">calc1</span> <span class="o">=</span> <span class="n">Calculation</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">formula</span><span class="o">=</span><span class="s2">&quot;i1 + i2&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;sum&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calc2</span> <span class="o">=</span> <span class="n">Calculation</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">formula</span><span class="o">=</span><span class="s2">&quot;i1/sum&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;ratei1&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">calc2</span> <span class="o">=</span> <span class="n">Calculation</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">formula</span><span class="o">=</span><span class="s2">&quot;floor(ratei1*100)&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;ratio&quot;</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span>
<span class="gp">... </span>    <span class="n">items</span><span class="o">=</span><span class="p">[</span><span class="n">item1</span><span class="p">,</span> <span class="n">item2</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">calculations</span><span class="o">=</span><span class="p">[</span><span class="n">calc1</span><span class="p">,</span> <span class="n">calc2</span><span class="p">,</span> <span class="n">calc3</span><span class="p">],</span>
<span class="gp">... </span>    <span class="n">rollup</span><span class="o">=</span><span class="s2">&quot;PT10M&quot;</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">series</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;i1&quot;</span><span class="p">,</span> <span class="s2">&quot;i2&quot;</span><span class="p">,</span> <span class="s2">&quot;ratio&quot;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">to_pandas</span><span class="p">())</span>
<span class="gp">... </span>                            <span class="n">i1</span>   <span class="n">i2</span>  <span class="n">ratio</span>
<span class="gp">... </span><span class="mi">2023</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">20</span> <span class="mi">10</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>  <span class="mf">6.0</span>  <span class="mf">3.0</span>   <span class="mf">66.0</span>
<span class="gp">... </span><span class="mi">2023</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">20</span> <span class="mi">10</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>  <span class="mf">9.0</span>  <span class="mf">4.0</span>   <span class="mf">69.0</span>
<span class="gp">... </span><span class="mi">2023</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">20</span> <span class="mi">10</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">00</span><span class="o">+</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>  <span class="mf">8.0</span>  <span class="mf">4.0</span>   <span class="mf">66.0</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../index.html" class="btn btn-neutral float-left" title="Reference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../views/index.html" class="btn btn-neutral float-right" title="Views" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Clarify.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>